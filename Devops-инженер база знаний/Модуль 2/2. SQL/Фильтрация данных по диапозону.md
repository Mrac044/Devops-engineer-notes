## Как фильтровать данные по диапазону

**оператор `BETWEEN`** — это сокращенная версия двух условий, соединенных через `AND`. Напишем запрос, который выбирает пользователей с датой рождения от 1 января до 1 февраля 2022 года:

```sql
SELECT *
FROM users
WHERE birthday > '2022-01-01' AND birthday < '2022-02-01';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/9MdEuB7ZdXqzRJ93TyimRu/2)

#SQL-команда Теперь запишем диапазон дат через `BETWEEN`:

```sql
SELECT *
FROM users
WHERE birthday BETWEEN '2022-01-01' AND '2022-02-01';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/9MdEuB7ZdXqzRJ93TyimRu/3)

- В первом запросе крайние значения не входят в диапазон

![Диапазон](https://ru.hexlet.io/rails/active_storage/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTgwNSwicHVyIjoiYmxvYl9pZCJ9fQ==--90b9ce162b667e022adc6e85452b4cb80744f286/between0.png)

- Во втором запросе — входят

![Диапазон](https://ru.hexlet.io/rails/active_storage/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTgwNiwicHVyIjoiYmxvYl9pZCJ9fQ==--d9e56d13ebea6e5e4d0cc40dafebdb3ebc38d3e7/between.png)

Другими словами, эти два запроса не равнозначны. В первый диапазон не попадут пользователи с датой рождения `2022-01-01` или `2022-02-01`.

#SQL-команда Представим, что нам нужно выбрать все записи, которые НЕ попадают в диапазон. Тогда мы добавляем оператор `NOT`:

```sql
SELECT *
FROM users
WHERE birthday NOT BETWEEN '2022-01-01' AND '2022-02-01';
```
![[Pasted image 20260205180505.png]]
[View on DB Fiddle](https://www.db-fiddle.com/f/9MdEuB7ZdXqzRJ93TyimRu/5)

#SQL-команда Обычно оператор `BETWEEN` используют для дат, но его можно применять и с числами:

```sql
SELECT
  id,
  first_name,
  last_name,
  email
FROM users
WHERE id BETWEEN 15 AND 23;
```

|id|first_name|last_name|email|
|---|---|---|---|
|15|Esteban|Von|[Anika_OReilly58@gmail.com](mailto:Anika_OReilly58@gmail.com)|
|16|Abe|Funk|[Dewayne_Lueilwitz69@hotmail.com](mailto:Dewayne_Lueilwitz69@hotmail.com)>|
|17|Edyth|Wiegand|[Filomena.Hodkiewicz@yahoo.com](mailto:Filomena.Hodkiewicz@yahoo.com)>|
|18|Flavie|Marquardt|[Rashawn.Altenwerth@gmail.com](mailto:Rashawn.Altenwerth@gmail.com)>|
|19|Jorge|Homenick|[Dallin_Lebsack88@hotmail.com](mailto:Dallin_Lebsack88@hotmail.com)>|
|20|Sim|Orn|[Marvin_Hettinger24@yahoo.com](mailto:Marvin_Hettinger24@yahoo.com)>|
|21|Nicolas|Kreiger|[Audrey.Gibson@yahoo.com](mailto:Audrey.Gibson@yahoo.com)|
|22|Princess|Schmitt|[Daniella.Pfeffer46@yahoo.com](mailto:Daniella.Pfeffer46@yahoo.com)>|
|23|Dangelo|Jacobi|[Melany_Pfeffer87@hotmail.com](mailto:Melany_Pfeffer87@hotmail.com)>|

[View on DB Fiddle](https://www.db-fiddle.com/f/9MdEuB7ZdXqzRJ93TyimRu/6)

