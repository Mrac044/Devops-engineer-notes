- **`INSERT`** — запрос на вставку данных
- **`UPDATE`** — запрос на обновление данных
- **`DELETE`** — запрос на удаление данных

## Оператор INSERT

#SQL-команда Чтобы внести все эти данные в таблицу, напишем запрос с оператором `INSERT`:

```sql
INSERT INTO users (username, email, first_name, last_name, birthday, gender, id, created_at, password_digest)
VALUES ('AgentJ', 'wsmith09@gmail.com', 'Will', 'Smith', '1968-09-25', 'male', 100, '2023-05-01', '11111');
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/0)

#SQL-команда В одном запросе можно добавить сразу несколько записей, перечислив их после ключевого слова `VALUES` через запятую:

```sql
INSERT INTO users (username, email, first_name, last_name, birthday, gender, id, created_at, password_digest)
VALUES ('AgentJ', 'wsmith09@gmail.com', 'Will', 'Smith', '1968-09-25', 'male', 100, '2023-05-01', '11111'),
       ('MrBatman', 'benaff@gmail.com', 'Ben', 'Affleck', '1973-08-15', 'male', 101, '2023-05-01', '22222');
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/3)

#SQL-команда Два следующих запроса не выполнятся, потому что идентификатор пользователя должен быть уникальным:

```sql
INSERT INTO users (username, email, first_name, last_name, birthday, gender, id, created_at, password_digest)
VALUES ('Bond007', 'agent007@yahoo.com', 'Sean', 'Connery', '1930-08-25', 'male', 102, '2023-05-01', '33333');

INSERT INTO users (username, email, first_name, last_name, birthday, gender, id, created_at, password_digest)
VALUES ('Bond007', 'agent007@yahoo.com', 'Sean', 'Connery', '1930-08-25', 'male', 102, '2023-05-01', '33333');
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/21)

## Оператор UPDATE

#SQL-команда Обновление записей в таблице выполняется `UPDATE` запросом:

```sql
UPDATE users SET username = 'SuperAgent007' WHERE email = 'agent007@yahoo.com';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/22)

Обычно `UPDATE` запрос состоит из двух частей:

1. `SET username = 'SuperAgent007'` — описывается, какое значение установить в какое поле
2. `WHERE email = 'agent007@yahoo.com'` — указывается ограничение на то, к каким строкам применить обновление

#SQL-команда За одну операцию можно обновить несколько полей. Для этого достаточно перечислить каждое присваивание через запятую в части `SET`. Порядок, в котором изменяются поля, — не важен:

```sql
UPDATE users SET first_name = 'Pierce', last_name = 'Brosnan' WHERE email = 'agent007@yahoo.com';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/20)

#SQL-команда Часть `WHERE` можно вообще не указывать:

```sql
UPDATE users SET first_name = 'John', last_name = 'Doe' ;
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/23)

SQL позволяет выполнять значительно более хитрые проверки. Рассмотрим несколько примеров:

### Операции сравнения

Мы можем использовать любые математические операции сравнения: больше, меньше, не равно и другие.

```sql
UPDATE users SET first_name = 'John' WHERE birthday > '1970-01-01';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/8)

### Логические операции

Мы можем использовать логические операции для объединения условий: И и ИЛИ.

```sql
UPDATE users SET email = 'johndoe@yahoo.com'
  WHERE first_name = 'John' AND last_name = 'Doe';

UPDATE users SET first_name = 'John'
  WHERE birthday BETWEEN '1950-01-01' AND '2000-01-01';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/9)

## Оператор DELETE

#SQL-команда Чтобы удалить данные, можно воспользоваться оператором `DELETE`. Следующий запрос удалит из базы строку с пользователем 'secretagent':

```sql
DELETE FROM users WHERE username = 'secretagent';
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/25)

Рассмотрим запрос подробнее:

- Сначала мы указываем оператор `DELETE FROM`
- После него идет имя таблицы, из которой удаляем данные
- В конце мы указываем условие через оператор `WHERE`
==Можно задавать любые условия, поддерживаемые языком SQL.==
```sql
DELETE FROM users
WHERE
    (birthday BETWEEN '1968-01-01' AND '2000-01-01')
    OR (id = 100);
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/12)

Если никакое условие указано не будет, то будут удалены все записи из указанной таблицы:

```sql
DELETE FROM users;
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/13)

В базах данных есть еще один способ удалять данные в таблице — **`TRUNCATE`.**
- Он предназначен для полной очистки таблиц
- В отличие от `DELETE`, он выполняется очень эффективно, так как у `TRUNCATE` нет возможности задавать условия. В этом случае СУБД не нужно ничего дополнительно анализировать. Она сразу очищает место на диске без промежуточных этапов:

```sql
TRUNCATE courses;
```

[View on DB Fiddle](https://www.db-fiddle.com/f/sKaJKp3NraYosz6QQnsqGH/14)


